"use strict";angular.module("visualizationApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("visualizationApp").controller("MainCtrl",["$scope","$http",function(a,b){function c(b,c){if(null!==a.start){var d=a.start.x,e=a.start.y;a.grid[d][e].type="floor"}a.start={x:b,y:c},a.grid[b][c].type="start"}function d(b,c){"start"===a.grid[b][c].type&&(a.start=null),a.grid[b][c].type="end"}function e(b,c){"start"===a.grid[b][c].type&&(a.start=null),a.grid[b][c].type="floor"}function f(b,c){"start"===a.grid[b][c].type&&(a.start=null),a.grid[b][c].type="shelf"}a.x=5,a.y=10,a.resetGrid=function(){a.start=null,a.paths=null,a.step=0,a.activeTool="shelf",a.grid=[];for(var b=0;b<a.x;b++){a.grid[b]=[];for(var c=0;c<a.y;c++)a.grid[b][c]={type:"floor",x:b,y:c,path:!1}}},a.squareClick=function(b){"shelf"===a.activeTool&&f(b.x,b.y),"floor"===a.activeTool&&e(b.x,b.y),"start"===a.activeTool&&c(b.x,b.y),"end"===a.activeTool&&d(b.x,b.y)},a.resetPaths=function(){for(var b=0;b<a.x;b++)for(var c=0;c<a.y;c++)a.grid[b][c].path=!1},a.setPath=function(){a.resetPaths();for(var b=1;b<a.paths[a.step].length;b++){var c=a.paths[a.step][b];a.grid[c[0]][c[1]].path=!0}},a.setStep=function(b){a.step=b,a.setPath()},a.findPath=function(){for(var c=[],d=[],e=0;e<a.x;e++)for(var f=0;f<a.y;f++)"end"===a.grid[e][f].type&&d.push([e,f]),"shelf"===a.grid[e][f].type&&c.push([e,f]);var g={start:[a.start.x,a.start.y],end:d,rows:a.x,cols:a.y,walls:c},h="http://127.0.0.1:5000?info="+JSON.stringify(g);b.get(h).then(function(b){a.paths=b.data,a.setStep(0)})},a.resetGrid()}]),angular.module("visualizationApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("visualizationApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<center> <table> <tr> <td class="input-td">Rows</td> <td class="input-td"> <input class="form-control" type="number" ng-model="x"> </td> </tr> <tr> <td class="input-td">Columns</td> <td class="input-td"> <input class="form-control" type="number" ng-model="y"> </td> </tr> </table> <br> <button class="btn btn-success" ng-click="findPath()">Find path</button> <button class="btn btn-primary" ng-click="resetGrid()">Set grid size</button> <button class="btn btn-warning" ng-click="resetPaths()">Reset Paths</button> <button class="btn btn-danger" ng-click="resetGrid()">Reset All</button> <div class="content-container"> <div class="floor rectangle" ng-class="{\'active-tool\': activeTool ===\'floor\'}" ng-click="activeTool = \'floor\'"> <div class="valign">Floor</div> </div> <div class="shelf rectangle" ng-class="{\'active-tool\': activeTool ===\'shelf\'}" ng-click="activeTool = \'shelf\'"> <div class="valign">Shelf</div> </div> <div class="start rectangle" ng-class="{\'active-tool\': activeTool ===\'start\'}" ng-click="activeTool = \'start\'"> <div class="valign">Start</div> </div> <div class="end rectangle" ng-class="{\'active-tool\': activeTool ===\'end\'}" ng-click="activeTool = \'end\'"> <div class="valign">End</div> </div> <div class="path rectangle" ng-class="{\'active-tool\': activeTool ===\'path\'}"> <div class="valign">Path</div> </div> </div> <div class="content-container"> <div ng-repeat="row in grid"> <span ng-repeat="cell in row"> <div class="square" ng-class="{\'floor\': cell.type === \'floor\', \'shelf\': cell.type === \'shelf\', \'start\': cell.type === \'start\', \'end\': cell.type === \'end\', \'path\': cell.path}" ng-click="squareClick(cell)"></div> </span> </div> </div> <br><br> <table ng-if="paths"> <tr> <td>Steps:&nbsp;&nbsp;&nbsp;&nbsp;</td> <td> <div class="btn-group" role="group" aria-label="Basic example"> <button ng-repeat="path in paths" type="button" class="btn btn-primary" ng-class="{\'active\': $index === step}" ng-click="setStep($index)">{{$index + 1}}</button> </div> </td> </tr> </table> <br><br><br> </center>')}]);